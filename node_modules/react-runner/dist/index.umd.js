!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("react"),require("sucrase")):"function"==typeof define&&define.amd?define(["exports","react","sucrase"],r):r((e||self).reactRunner={},e.react,e.sucrase)}(this,function(e,r,t){function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=/*#__PURE__*/n(r);function s(){return s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},s.apply(this,arguments)}const u=e=>t.transform(e,{transforms:["jsx","typescript","imports"],production:!0}).code.substring(13),c=/^(\s*)(<[^>]*>|function[(\s]|\(\)[\s=]|class\s)(.*)/,l=["default","import"],i=(e,r)=>{const{import:t}=r,n=function(e,r){if(null==e)return{};var t,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)r.indexOf(t=s[n])>=0||(o[t]=e[t]);return o}(r,l),u=s({React:o.default,require:a(t)},n),c=Object.keys(u),i=c.map(e=>u[e]);return new Function(...c,e)(...i)},p=e=>{const{code:t,scope:n}=e;if(!t.trim())return null;const o={};i(u((e=>e.replace(c,"$1export default $2$3"))(t)),s({render:e=>{o.default=e}},n,{exports:o}));const l=o.default;return l?r.isValidElement(l)?l:"function"==typeof l?r.createElement(l):"string"==typeof l?l:null:null},a=function(e){return void 0===e&&(e={}),r=>{if(!e.hasOwnProperty(r))throw new Error("Module not found: '"+r+"'");return e[r]}};class d extends r.Component{constructor(){super(...arguments),this.state={element:null,error:null,prevCode:null,prevScope:void 0}}static getDerivedStateFromProps(e,r){if(r.prevCode===e.code&&r.prevScope===e.scope)return null;try{return{element:p(e),error:null,prevCode:e.code,prevScope:e.scope}}catch(r){return{element:null,error:r,prevCode:e.code,prevScope:e.scope}}}static getDerivedStateFromError(e){return{error:e}}componentDidMount(){var e,r;null==(e=(r=this.props).onRendered)||e.call(r,this.state.error||void 0)}shouldComponentUpdate(e,r){return e.code!==this.props.code||e.scope!==this.props.scope||r.error!==this.state.error}componentDidUpdate(){var e,r;null==(e=(r=this.props).onRendered)||e.call(r,this.state.error||void 0)}render(){return this.state.error?null:this.state.element}}e.Runner=d,e.createRequire=a,e.generateElement=p,e.importCode=(e,r)=>{const t={};return i(u(e),s({},r,{exports:t})),t},e.useRunner=e=>{let{code:t,scope:n,disableCache:o}=e;const s=r.useRef(!0),u=r.useRef(null),[c,l]=r.useState(()=>{const e=r.createElement(d,{code:t,scope:n,onRendered:r=>{r?l({element:o?null:u.current,error:r.toString()}):u.current=e}});return{element:e,error:null}});return r.useEffect(()=>{if(s.current)return void(s.current=!1);const e=r.createElement(d,{code:t,scope:n,onRendered:r=>{r?l({element:o?null:u.current,error:r.toString()}):u.current=e}});l({element:e,error:null})},[t,n,o]),c}});
//# sourceMappingURL=index.umd.js.map
