var e=require("react"),r=require("sucrase");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=/*#__PURE__*/t(e);function o(){return o=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},o.apply(this,arguments)}const s=e=>r.transform(e,{transforms:["jsx","typescript","imports"],production:!0}).code.substring(13),u=/^(\s*)(<[^>]*>|function[(\s]|\(\)[\s=]|class\s)(.*)/,c=["default","import"],l=(e,r)=>{const{import:t}=r,s=function(e,r){if(null==e)return{};var t,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)r.indexOf(t=s[n])>=0||(o[t]=e[t]);return o}(r,c),u=o({React:n.default,require:i(t)},s),l=Object.keys(u),p=l.map(e=>u[e]);return new Function(...l,e)(...p)},p=r=>{const{code:t,scope:n}=r;if(!t.trim())return null;const c={};l(s((e=>e.replace(u,"$1export default $2$3"))(t)),o({render:e=>{c.default=e}},n,{exports:c}));const p=c.default;return p?e.isValidElement(p)?p:"function"==typeof p?e.createElement(p):"string"==typeof p?p:null:null},i=function(e){return void 0===e&&(e={}),r=>{if(!e.hasOwnProperty(r))throw new Error("Module not found: '"+r+"'");return e[r]}};class a extends e.Component{constructor(){super(...arguments),this.state={element:null,error:null,prevCode:null,prevScope:void 0}}static getDerivedStateFromProps(e,r){if(r.prevCode===e.code&&r.prevScope===e.scope)return null;try{return{element:p(e),error:null,prevCode:e.code,prevScope:e.scope}}catch(r){return{element:null,error:r,prevCode:e.code,prevScope:e.scope}}}static getDerivedStateFromError(e){return{error:e}}componentDidMount(){var e,r;null==(e=(r=this.props).onRendered)||e.call(r,this.state.error||void 0)}shouldComponentUpdate(e,r){return e.code!==this.props.code||e.scope!==this.props.scope||r.error!==this.state.error}componentDidUpdate(){var e,r;null==(e=(r=this.props).onRendered)||e.call(r,this.state.error||void 0)}render(){return this.state.error?null:this.state.element}}exports.Runner=a,exports.createRequire=i,exports.generateElement=p,exports.importCode=(e,r)=>{const t={};return l(s(e),o({},r,{exports:t})),t},exports.useRunner=r=>{let{code:t,scope:n,disableCache:o}=r;const s=e.useRef(!0),u=e.useRef(null),[c,l]=e.useState(()=>{const r=e.createElement(a,{code:t,scope:n,onRendered:e=>{e?l({element:o?null:u.current,error:e.toString()}):u.current=r}});return{element:r,error:null}});return e.useEffect(()=>{if(s.current)return void(s.current=!1);const r=e.createElement(a,{code:t,scope:n,onRendered:e=>{e?l({element:o?null:u.current,error:e.toString()}):u.current=r}});l({element:r,error:null})},[t,n,o]),c};
//# sourceMappingURL=index.js.map
